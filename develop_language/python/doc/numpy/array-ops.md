# 数组/矩阵操作  

## 1. np.pad 操作  

对矩阵进行填充操作. 下面用一个例子来说明.  

```py
import numpy as np

array = np.array([
                  [[1, 1, 1],[2,2,2]], 
                  [[3, 3, 3],[4,4,4]]
                 ])
"""
pad_width = ((1,1), (2,2), (0,0)), 表示:  
            在数组 array 的第 1 维, 前面填充 1 行，最后面填充 1 行；
            在数组 array 的第 2 维, 前面填充 2 行，最后面填充 2 行;
            在数组 array 的第 3 维, 前面填充 0 个，最后面填充 0 个;

mode = 'constant'
constant_values = (0,5) 表示第一维填充 0，第二维填充 5, Default is 0.
"""
ndarray = np.pad(array,((1,1),(2,2), (0,0)), 'constant', constant_values=(0,5)) 

print("array",array)
print("ndarray=\n",ndarray)
```

输出如下:   

```bash

array [[[1 1 1]
  [2 2 2]]

 [[3 3 3]
  [4 4 4]]]

ndarray=

[
 [[0 0 0]
  [0 0 0]
  [0 0 0]
  [0 0 0]
  [5 5 5]
  [5 5 5]]

 [[0 0 0]
  [0 0 0]
  [1 1 1]
  [2 2 2]
  [5 5 5]
  [5 5 5]]

 [[0 0 0]
  [0 0 0]
  [3 3 3]
  [4 4 4]
  [5 5 5]
  [5 5 5]]

 [[0 0 0]
  [0 0 0]
  [5 5 5]
  [5 5 5]
  [5 5 5]
  [5 5 5]]]
```

下面一步一步的还原 padding 过程.   

首先明确一下 np.pad() 中的参数.   

```py
"""
pad_width = ((1,1), (2,2), (0,0)), 表示:  
            在数组 array 的第 1 维, 前面填充 1 行，最后面填充 1 行；
            在数组 array 的第 2 维, 前面填充 2 行，最后面填充 2 行;
            在数组 array 的第 3 维, 前面填充 0 个，最后面填充 0 个;

mode = 'constant'
constant_values = (0,5) 表示第一维填充 0，第二维填充 5, Default is 0.
"""
```

原来的数组为:  

```bash
[
  [[1 1 1]
   [2 2 2]]

  [[3 3 3]
   [4 4 4]]
]
```

数组的维度为: (2, 2, 3), 使用 `pad_width = ((1,1), (2,2), (0,0))` 参数填充之后的张量维度为 (4, 6, 3), 即 (2+1+1, 2+2+2, 3+0+0).  

首先对第 1 维进行 padding, 填充的原则是: 最前面填充元素为 0 的 1 行, 最后面填充元素为 5 的 1 行, 得到如下张量:  

```bash
[
  [[0 0 0]
   [0 0 0]]

  [[1 1 1]
   [2 2 2]]

  [[3 3 3]
   [4 4 4]]

  [[5 5 5]
   [5 5 5]]
]
```

然后对第 2 维进行 padding, 填充的原则是: 最前面填充元素为 0 的 2 行, 最后面填充元素为 5 的 2 行, 得到如下张量:  

```bash
[
  [[0 0 0]
   [0 0 0]
   [0 0 0]
   [0 0 0]
   [5 5 5]
   [5 5 5]]

  [[0 0 0]
   [0 0 0]
   [1 1 1]
   [2 2 2]
   [5 5 5]
   [5 5 5]]

  [[0 0 0]
   [0 0 0]
   [3 3 3]
   [4 4 4]
   [5 5 5]
   [5 5 5]]

  [[0 0 0]
   [0 0 0]
   [5 5 5]
   [5 5 5]
   [5 5 5]
   [5 5 5]]
]
```

最后对第 3 维进行 padding, 填充的原则是: 最前面填充元素为 0 的 0 行, 最后面填充元素为 5 的 0 行, 相当于没有任何改变.  
